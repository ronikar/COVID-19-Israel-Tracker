{"version":3,"sources":["providers/getIsraelCovid19Data.ts","DailyStatus.tsx","CasesStatistics.tsx","utils/LineChartComponent.tsx","utils/BarChartComponent.tsx","ConfirmedCasesStatistics.tsx","DeathCasesStatistics.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["startDate","moment","toDate","confirmedCasesReports","activeCasesReports","totalDeathsReports","criticalCasesDataStartDate","criticalCasesData","a","reports","index","length","date","getDate","id","format","totalRecovered","closeCases","totalConfirmed","activeCases","totalDeaths","dailyConfirmed","isFirstItem","dailyRecovered","dailyDeaths","report","cirticalIndex","getDiffInDays","criticalCases","mildConditionCases","push","Promise","resolve","additionalDays","newDate","Date","setDate","first","second","diff","CovidDailyStatus","dailyReport","className","DailyStatusCube","title","total","daily","componentClassName","CasesStatistics","console","log","ActiveCasesCube","value","CloseCasesCube","activeRatio","totalRatio","toFixed","closeRatio","LineChartComponent","data","xAxizDataKeys","lineDataKeys","width","height","strokeDasharray","dataKey","map","item","type","stroke","color","strokeWidth","dot","BarChartComponent","barDataKeys","margin","top","right","left","bottom","fill","ConfirmedCasesStatistics","totalLineDataKeys","useMemo","dailyBarDataKeys","activeLineDataKeys","criticalLineDataKeys","reportsWithCriticalCases","filter","_","DeathCasesStatistics","Loader","App","useState","setReports","useEffect","getIsraelCovid19Reports","then","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.1f6019da.chunk.js","sourcesContent":["import moment from \"moment\";\r\nimport covid19 from \"../react-app-env\";\r\n//import { isNumber } from \"util\";\r\n\r\n// const DATE_FORMAT = \"YYYY-M-D\"\r\n// const ISRAEL_KEY = \"Israel\";\r\n\r\nexport interface DailyReportData {\r\n    date: string;\r\n    confirmed: number;\r\n    deaths: number;\r\n    recovered: number\r\n}\r\nconst DATE_FORMAT = \"DD.MM.YYYY\";\r\nconst startDate = moment(\"20.02.2020\", DATE_FORMAT).toDate();\r\n\r\nconst confirmedCasesReports = [0, 1, 1, 2, 2, 2, 2, 3, 7, 7, 10, 12, 12, 15, 17, 21, 25, 39, 50, 75, 97, 109, 143, 193, 213, 298, 337, 433, 677, 705, 883, 1071, 1442, 1930, 2369, 2693, 3035]\r\nconst activeCasesReports = [0, 1, 1, 2, 2, 2, 2, 3, 6, 6, 9, 11, 11, 14, 15, 19, 22, 36, 46, 71, 93, 105, 139, 189, 209, 294, 326, 422, 663, 689, 846, 1033, 1400, 1874, 2306, 2617, 2944];\r\nconst totalDeathsReports = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 3, 5, 8, 12];\r\n\r\nconst criticalCasesDataStartDate = moment(\"13.03.2020\", DATE_FORMAT).toDate();\r\nconst criticalCasesData = [3, 2, 2, 4, 5, 6, 6, 10, 15, 18, 29, 34, 39, 46, 49];\r\n\r\n//TODO: look for reliable dataset service\r\nexport async function getIsraelCovid19Reports() {\r\n    const reports: covid19.DailyReport[] = [];\r\n\r\n    for (let index = 0; index < confirmedCasesReports.length; index++) {\r\n        const date = getDate(startDate, index);\r\n        const id = moment(date).format(\"DD/MM\");\r\n\r\n        const totalConfirmed = confirmedCasesReports[index];\r\n        const totalDeaths = totalDeathsReports[index];\r\n        const activeCases = activeCasesReports[index];\r\n\r\n        const closeCases = totalConfirmed - activeCases;\r\n        const totalRecovered = closeCases - totalDeaths;\r\n\r\n        const isFirstItem = index === 0;\r\n        const dailyConfirmed = isFirstItem ? totalConfirmed : totalConfirmed - reports[index - 1].totalConfirmed;\r\n        const dailyRecovered = isFirstItem ? totalRecovered : totalRecovered - reports[index - 1].totalRecovered;\r\n        const dailyDeaths = isFirstItem ? totalDeaths : totalDeaths - reports[index - 1].totalDeaths;\r\n\r\n        let report: covid19.DailyReport = { id, date, totalConfirmed, totalDeaths, totalRecovered, activeCases, closeCases, dailyConfirmed, dailyDeaths, dailyRecovered };\r\n\r\n        const cirticalIndex = getDiffInDays(date, criticalCasesDataStartDate);\r\n\r\n        if (cirticalIndex >= 0) {\r\n            const criticalCases = criticalCasesData[cirticalIndex];\r\n            report = {\r\n                ...report,\r\n                criticalCases,\r\n                mildConditionCases: activeCases - criticalCases\r\n            }\r\n        }\r\n\r\n        reports.push(report);\r\n    }\r\n\r\n    return Promise.resolve(reports);\r\n}\r\n\r\nfunction getDate(date: Date, additionalDays: number) {\r\n    const newDate = new Date(date);\r\n    newDate.setDate(newDate.getDate() + additionalDays);\r\n    return newDate;\r\n}\r\n\r\nfunction getDiffInDays(first: Date, second: Date) {\r\n    return moment(first).diff(moment(second), \"days\");\r\n}\r\n\r\n// export async function getIsraelCovid19Data(): Promise<DailyReport[]> {\r\n//     try {\r\n//         const res = await fetch(\"https://pomber.github.io/covid19/timeseries.json\");\r\n//         const data = await res.json() as Dictionary<DailyReportData[]>;\r\n//         return data[ISRAEL_KEY].map(_convertToDailyData);\r\n//     } catch (e) {\r\n//         console.log(e);\r\n//         return [];\r\n//     }\r\n// }\r\n\r\n// function _convertToDailyData(data: DailyReportData, index: number, array: DailyReportData[]) {\r\n//     const { recovered, deaths: totalDeaths, confirmed: totalConfirmed, date } = data;\r\n//     const totalRecovered = isNumber(recovered) ? recovered : array[index - 1]?.recovered; // recoverd can be null when the number of recovered doen't exist\r\n//     const closeCases = totalRecovered + totalDeaths;\r\n//     const activeCases = totalConfirmed - closeCases;\r\n\r\n//     const isFirstItem = index === 0;\r\n//     const dailyConfirmed = isFirstItem ? totalConfirmed : totalConfirmed - array[index - 1].confirmed;\r\n//     const dailyRecovered = isFirstItem ? totalRecovered : totalRecovered - array[index - 1].recovered;\r\n//     const dailyDeaths = isFirstItem ? totalDeaths : totalDeaths - array[index - 1].deaths;\r\n\r\n//     return {\r\n//         date: moment(date, DATE_FORMAT).toDate(),\r\n//         totalConfirmed,\r\n//         totalRecovered,\r\n//         totalDeaths,\r\n//         dailyConfirmed,\r\n//         dailyRecovered,\r\n//         dailyDeaths,\r\n//         closeCases,\r\n//         activeCases\r\n//     };\r\n// }","import \"./DailyStatus.css\";\r\n\r\nimport React from 'react';\r\nimport covid19 from \"./react-app-env\";\r\n\r\ninterface Props {\r\n  dailyReport: covid19.DailyReport\r\n}\r\n\r\nexport function CovidDailyStatus({ dailyReport }: Props) {\r\n  const { totalConfirmed, totalDeaths, totalRecovered, dailyConfirmed, dailyDeaths, dailyRecovered } = dailyReport;\r\n\r\n  return < section className=\"daily-status\" >\r\n    <DailyStatusCube title={\"מספר חולים מאומתים\"} className=\"confirmed\" total={totalConfirmed} daily={dailyConfirmed} />\r\n    <DailyStatusCube title={\"מספר המתים\"} className=\"deaths\" total={totalDeaths} daily={dailyDeaths} />\r\n    <DailyStatusCube title={\"מספר חולים שהבריאו\"} className=\"recovered\" total={totalRecovered} daily={dailyRecovered} />\r\n  </section>;\r\n}\r\n\r\ninterface DailyStatusCubeProps {\r\n  title: string;\r\n  className: string;\r\n  total: number;\r\n  daily: number;\r\n}\r\n\r\nfunction DailyStatusCube({ title, className, total, daily }: DailyStatusCubeProps) {\r\n  const componentClassName = `cube ${className}`;\r\n\r\n  return <div className={componentClassName}>\r\n    <h3>{title} </h3>\r\n    <div className=\"total-number\"> {total} </div>\r\n    <div className=\"daily-number\"> {daily} ביממה האחרונה </div>\r\n  </div>;\r\n}","import \"./CasesStatistics.css\";\r\n\r\nimport React from \"react\";\r\nimport covid19 from \"./react-app-env\";\r\n\r\ninterface Props {\r\n    dailyReport: covid19.DailyReport\r\n}\r\n\r\nexport function CasesStatistics({ dailyReport }: Props) {\r\n    const { totalDeaths, totalRecovered, mildConditionCases = 0, criticalCases = 0 } = dailyReport;\r\n    console.log(dailyReport);\r\n    return <section className=\"active-close-statistics\">\r\n        <h2>מקרים פתוחים וסגורים בארץ</h2>\r\n        <div className=\"cases-panel\">\r\n            <ActiveCasesCube title=\"מספר חולים במצב קל ובינוני\" value={mildConditionCases} {...dailyReport} />\r\n            <ActiveCasesCube title=\"מספר חולים במצב קשה\" value={criticalCases} {...dailyReport} />\r\n            <CloseCasesCube title=\"מספר החולים שנפטרו\" value={totalDeaths} {...dailyReport} />\r\n            <CloseCasesCube title=\"מספר החולים שהחלימו\" value={totalRecovered} {...dailyReport} />\r\n        </div>\r\n    </section>;\r\n}\r\n\r\ninterface ActiveCasesCubeProps {\r\n    title: string;\r\n    value: number;\r\n    activeCases: number;\r\n    totalConfirmed: number;\r\n}\r\n\r\nfunction ActiveCasesCube({ title, value, activeCases, totalConfirmed }: ActiveCasesCubeProps) {\r\n    const activeRatio = value / activeCases * 100;\r\n    const totalRatio = value / totalConfirmed * 100;\r\n    return <div className=\"active-cases-cube\">\r\n        <h3>{title}</h3>\r\n        <div className=\"value\">{value}</div>\r\n        <div className=\"ratio\"><span>{activeRatio.toFixed(1)}</span> מבין החולים הפעילים</div>\r\n        <div className=\"ratio\"><span>{totalRatio.toFixed(1)}</span>מבין כלל המקרים </div>\r\n    </div>;\r\n}\r\n\r\ninterface CloseCasesCubeProps {\r\n    title: string;\r\n    value: number;\r\n    closeCases: number;\r\n    totalConfirmed: number;\r\n}\r\n\r\nfunction CloseCasesCube({ title, value, closeCases, totalConfirmed }: CloseCasesCubeProps) {\r\n    const closeRatio = value / closeCases * 100;\r\n    const totalRatio = value / totalConfirmed * 100;\r\n\r\n    return <div className=\"close-cases-cube\">\r\n        <h3>{title}</h3>\r\n        <div className=\"value\">{value}</div>\r\n        <div className=\"ratio\"><span>{closeRatio.toFixed(1)}</span> מבין המקרים הסגורים</div>\r\n        <div className=\"ratio\"><span>{totalRatio.toFixed(1)}</span> מבין כלל הנדבקים</div>\r\n    </div>\r\n}\r\n","\r\nimport \"./LineChartComponent.css\";\r\n\r\nimport React from \"react\";\r\nimport { LineChart, Line, XAxis, YAxis, Tooltip, Legend, CartesianGrid } from \"recharts\";\r\n\r\ninterface DataKeyItem {\r\n    id: string;\r\n    color: string;\r\n}\r\n\r\ninterface ChartProps {\r\n    title: string;\r\n    data: any;\r\n    lineDataKeys: DataKeyItem[];\r\n    xAxizDataKeys?: string;\r\n}\r\n\r\nexport function LineChartComponent({ title, data, xAxizDataKeys = \"id\", lineDataKeys }: ChartProps) {\r\n    return <div className=\"line-chart\">\r\n        <h3>{title}</h3>\r\n        <LineChart\r\n            width={500}\r\n            height={300}\r\n            data={data}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis dataKey={xAxizDataKeys} />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Legend />\r\n            {lineDataKeys.map(item => <Line type=\"monotone\" dataKey={item.id} stroke={item.color} strokeWidth={3} dot={false} />)}\r\n        </LineChart>\r\n    </div>;\r\n}","\r\nimport \"./BarChartComponent.css\";\r\n\r\nimport React from \"react\";\r\nimport { XAxis, YAxis, Tooltip, Legend, CartesianGrid, BarChart, Bar } from \"recharts\";\r\n\r\ninterface DataKeyItem {\r\n    id: string;\r\n    color: string;\r\n}\r\n\r\ninterface ChartProps {\r\n    title: string;\r\n    data: any;\r\n    barDataKeys: DataKeyItem[];\r\n    xAxizDataKeys?: string;\r\n}\r\n\r\nexport function BarChartComponent({ title, data, xAxizDataKeys = \"id\", barDataKeys }: ChartProps) {\r\n    return <div className=\"bar-chart\">\r\n        <h3>{title}</h3>\r\n        <BarChart\r\n            width={500}\r\n            height={300}\r\n            data={data}\r\n            margin={{\r\n                top: 5, right: 30, left: 20, bottom: 5,\r\n            }}\r\n        >\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis dataKey={xAxizDataKeys} />\r\n            <YAxis />\r\n            <Tooltip />\r\n            <Legend />\r\n            {barDataKeys.map(item => <Bar dataKey={item.id} fill={item.color} />)}\r\n        </BarChart>\r\n    </div>;\r\n}","import \"./ConfirmedCasesStatistics.css\";\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport covid19 from \"./react-app-env\";\r\n\r\nimport { LineChartComponent } from \"./utils/LineChartComponent\";\r\nimport { BarChartComponent } from \"./utils/BarChartComponent\";\r\n\r\ninterface Props {\r\n    reports: covid19.DailyReport[]\r\n}\r\n\r\nexport function ConfirmedCasesStatistics({ reports }: Props) {\r\n    const totalLineDataKeys = useMemo(() => [{ id: \"totalConfirmed\", color: \"#8884d8\" }], []);\r\n    const dailyBarDataKeys = useMemo(() => [{ id: \"dailyConfirmed\", color: \"#8884d8\" }], []);\r\n    const activeLineDataKeys = useMemo(() => [{ id: \"activeCases\", color: \"#8884d8\" }], []);\r\n    const criticalLineDataKeys = useMemo(() => [{ id: \"criticalCases\", color: \"#c1bc08\" }, { id: \"mildConditionCases\", color: \"#8884d8\" }], []);\r\n\r\n    const reportsWithCriticalCases = useMemo(() => reports.filter(_ => !!_.criticalCases), [reports]);\r\n\r\n    return <section className=\"confirmed-cases-panel\">\r\n        <h2>סטטיסטיקות מתקדמות על מספר הנדבקים</h2>\r\n        <div className=\"charts\">\r\n            <LineChartComponent title=\"מספר נדבקים כולל\" data={reports} lineDataKeys={totalLineDataKeys} />\r\n            <BarChartComponent title=\"מספר נדבקים יומי\" data={reports} barDataKeys={dailyBarDataKeys} />\r\n            <LineChartComponent title=\"מספר חולים פעילים\" data={reports} lineDataKeys={activeLineDataKeys} />\r\n            <LineChartComponent title=\"חולים לפי מצב רפואי\" data={reportsWithCriticalCases} lineDataKeys={criticalLineDataKeys} />\r\n        </div>\r\n    </section>\r\n}","import \"./DeathCasesStatistics.css\";\r\n\r\nimport React, { useMemo } from \"react\";\r\nimport covid19 from \"./react-app-env\";\r\n\r\nimport { LineChartComponent } from \"./utils/LineChartComponent\";\r\nimport { BarChartComponent } from \"./utils/BarChartComponent\";\r\n\r\ninterface Props {\r\n    reports: covid19.DailyReport[]\r\n}\r\n\r\nexport function DeathCasesStatistics({ reports }: Props) {\r\n    const totalLineDataKeys = useMemo(() => [{ id: \"totalDeaths\", color: \"#ba2525\" }], []);\r\n    const dailyBarDataKeys = useMemo(() => [{ id: \"dailyDeaths\", color: \"#ba2525\" }], []);\r\n\r\n    return <section className=\"death-cases-panel\">\r\n        <h2>סטטיסטיקות מתקדמות על מספר המתים</h2>\r\n        <div className=\"charts\">\r\n            <LineChartComponent title=\"מספר נפטרים כולל\" data={reports} lineDataKeys={totalLineDataKeys} />\r\n            <BarChartComponent title=\"מספר נפטרים יומי\" data={reports} barDataKeys={dailyBarDataKeys} />\r\n        </div>\r\n    </section>\r\n}","import './App.css';\r\nimport './Loader.css';\r\n\r\nimport React, { useState, useEffect, Fragment } from 'react';\r\nimport moment from \"moment\";\r\n\r\nimport { getIsraelCovid19Reports } from './providers/getIsraelCovid19Data';\r\nimport { CovidDailyStatus } from './DailyStatus';\r\nimport { CasesStatistics } from './CasesStatistics';\r\nimport covid19 from './react-app-env';\r\nimport { ConfirmedCasesStatistics } from './ConfirmedCasesStatistics';\r\nimport { DeathCasesStatistics } from './DeathCasesStatistics';\r\n\r\nfunction App() {\r\n  const [reports, setReports] = useState([] as covid19.DailyReport[]);\r\n  const dailyReport = reports[reports.length - 1];\r\n  \r\n  useEffect(() => { getIsraelCovid19Reports().then(data => setReports(data)) }, []);\r\n\r\n  return <div className=\"covid-19-app\">\r\n    <header className=\"app-header\">\r\n      <h1>מגפת הקורונה בישראל</h1>\r\n      {dailyReport && <div className=\"last-update\">נכון לתאריך {moment(dailyReport.date).format(\"DD.MM.YYYY\")}</div>}\r\n    </header>\r\n    {reports.length === 0 ? <Loader /> :\r\n      <Fragment>\r\n        <CovidDailyStatus dailyReport={dailyReport} />\r\n        <CasesStatistics dailyReport={dailyReport}/>\r\n        <ConfirmedCasesStatistics reports={reports}/>\r\n        <DeathCasesStatistics reports={reports}/>\r\n      </Fragment>}\r\n    <footer>\r\n          <p>נוצר ע\"י רוני קרילקאר</p>\r\n          <div>המידע מוזן כרגע באופן ידני ולכן עדכניות המידע תלויה בעיקר בי :)</div>\r\n        </footer>\r\n  </div>;\r\n}\r\n\r\nfunction Loader() {\r\n  return <div className=\"loader-wrapper\"><div className=\"loader\"></div></div>\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />,document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}